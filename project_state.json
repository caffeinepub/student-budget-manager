{
  "schemaVersion": "1.0.0",
  "projectStateVersion": 9,
  "summary": "Mobile app called Student Budget Manager for students. Takes student income (pocket money, stipend, part-time) and automatically divides it into Spending, Saving, and Investment buckets. Shows daily spend limits, monthly savings targets, and safe investment amounts. Includes budget calculator, expense tracking, savings goal tracker, low-risk investment suggestions, and a Digital Locker that locks savings until a goal or time period is met. Must be simple, student-friendly, and low-data usage.",
  "architectural_notes": [
    "App must be low-data usage and student-friendly (simple UX)",
    "Mobile application (iOS/Android)",
    "Online payment wallet required: store, receive, and transfer money; integrate with Digital Locker transfers",
    "Payment flow uses QR code scanning (no bank account integration required)"
  ],
  "known_issues": [
    "Previous build failed when attempting to add QR scanner and payment app features — retry in progress"
  ],
  "isFixRequest": false,
  "existing_features": [
    {
      "id": "feature-build-an-onboarding-income-setup-screen-where-students-enter-their-total-monthly-income-broken-down-by-source-pocket-money-stipend-part-time-display-a-live-preview-of-the-auto-divided-amounts-as-the-user-types-using-default-splits-of-50-spending-30-saving-20-investment-allow-the-user-to-adjust-the-split-percentages-with-a-slider-group-that-enforces-a-100-total",
      "title": "Build an Onboarding / Income Setup screen where students enter their total monthly income broken down by source (pocket money, stipend, part-time). Display a live preview of the auto-divided amounts as the user types, using default splits of 50% Spending, 30% Saving, 20% Investment. Allow the user to adjust the split percentages with a slider group that enforces a 100% total.",
      "reqIds": [
        "REQ-3"
      ],
      "version": 1
    },
    {
      "id": "feature-build-a-dashboard-home-screen-showing-total-monthly-income-current-spending-balance-with-daily-spend-limit-savings-balance-locked-indicator-if-locker-is-active-investment-allocation-amount-a-mini-expense-log-of-the-last-5-transactions-and-quick-action-buttons-to-add-expense-view-goals-and-view-investments",
      "title": "Build a Dashboard / Home screen showing: total monthly income, current spending balance with daily spend limit, savings balance (locked indicator if locker is active), investment allocation amount, a mini expense log of the last 5 transactions, and quick-action buttons to Add Expense, View Goals, and View Investments.",
      "reqIds": [
        "REQ-4"
      ],
      "version": 1
    },
    {
      "id": "feature-build-an-expense-tracker-screen-with-a-form-to-log-expenses-amount-category-selector-food-transport-education-entertainment-health-other-and-optional-note-display-a-full-scrollable-expense-history-grouped-by-date-show-a-spending-progress-bar-indicating-how-much-of-the-monthly-spending-allocation-has-been-used",
      "title": "Build an Expense Tracker screen with a form to log expenses (amount, category selector: Food, Transport, Education, Entertainment, Health, Other, and optional note). Display a full scrollable expense history grouped by date. Show a spending progress bar indicating how much of the monthly spending allocation has been used.",
      "reqIds": [
        "REQ-5"
      ],
      "version": 1
    },
    {
      "id": "feature-build-a-savings-goal-tracker-screen-where-students-can-create-savings-goals-with-a-name-target-amount-optional-deadline-and-choose-to-activate-the-digital-locker-for-that-goal-each-goal-card-shows-a-progress-bar-days-remaining-and-current-vs-target-amount-a-top-up-button-lets-students-move-money-from-their-spending-balance-into-a-goal",
      "title": "Build a Savings Goal Tracker screen where students can create savings goals with a name, target amount, optional deadline, and choose to activate the Digital Locker for that goal. Each goal card shows a progress bar, days remaining, and current vs. target amount. A 'Top Up' button lets students move money from their spending balance into a goal.",
      "reqIds": [
        "REQ-6"
      ],
      "version": 1
    },
    {
      "id": "feature-build-an-investment-suggestions-screen-that-displays-at-least-3-curated-low-risk-investment-options-appropriate-for-students-e-g-recurring-deposit-public-provident-fund-index-fund-sip-each-suggestion-card-shows-the-option-name-brief-description-recommended-minimum-monthly-amount-expected-annual-return-range-and-a-risk-level-badge-very-low-or-low-include-a-sample-calculation-showing-projected-growth-over-1-3-and-5-years-based-on-the-user-s-monthly-investment-allocation",
      "title": "Build an Investment Suggestions screen that displays at least 3 curated low-risk investment options appropriate for students (e.g., Recurring Deposit, Public Provident Fund, Index Fund SIP). Each suggestion card shows the option name, brief description, recommended minimum monthly amount, expected annual return range, and a risk level badge ('Very Low' or 'Low'). Include a sample calculation showing projected growth over 1, 3, and 5 years based on the user's monthly investment allocation.",
      "reqIds": [
        "REQ-7"
      ],
      "version": 1
    },
    {
      "id": "feature-build-a-budget-calculator-screen-standalone-tool-where-a-student-can-input-a-hypothetical-monthly-income-and-desired-split-percentages-instantly-see-computed-spending-saving-and-investment-amounts-the-resulting-daily-spend-limit-and-a-sample-monthly-expense-breakdown-across-common-student-categories-food-transport-education-entertainment",
      "title": "Build a Budget Calculator screen (standalone tool) where a student can input a hypothetical monthly income and desired split percentages, instantly see computed spending, saving, and investment amounts, the resulting daily spend limit, and a sample monthly expense breakdown across common student categories (food, transport, education, entertainment).",
      "reqIds": [
        "REQ-8"
      ],
      "version": 1
    },
    {
      "id": "feature-design-and-implement-a-student-friendly-visual-theme-a-clean-energetic-color-palette-using-greens-and-teals-representing-growth-and-financial-health-with-warm-accent-colors-for-alerts-use-a-card-based-layout-with-rounded-corners-clear-typography-hierarchy-and-simple-iconography-the-ui-must-be-optimized-for-mobile-viewports-max-width-430px-with-a-bottom-navigation-bar-for-main-sections-dashboard-expenses-goals-invest-calculator",
      "title": "Design and implement a student-friendly visual theme: a clean, energetic color palette using greens and teals (representing growth and financial health) with warm accent colors for alerts. Use a card-based layout with rounded corners, clear typography hierarchy, and simple iconography. The UI must be optimized for mobile viewports (max-width 430px) with a bottom navigation bar for main sections: Dashboard, Expenses, Goals, Invest, Calculator.",
      "reqIds": [
        "REQ-9"
      ],
      "version": 1
    },
    {
      "id": "feature-create-a-new-wallet-screen-in-the-frontend-accessible-via-a-wallet-icon-or-tab-the-screen-must-display-the-current-wallet-balance-prominently-a-receive-money-section-with-a-simulated-form-enter-amount-and-sender-label-that-calls-addfundstowallet-a-transfer-to-digital-locker-section-with-an-amount-input-and-confirm-button-that-calls-transfertolocker-and-a-scrollable-transaction-history-list-showing-each-transaction-s-amount-type-received-transferred-sender-destination-label-date-and-optional-note-show-success-and-error-toasts-for-all-actions",
      "title": "Create a new Wallet screen in the frontend accessible via a wallet icon or tab. The screen must display the current wallet balance prominently, a 'Receive Money' section with a simulated form (enter amount and sender label) that calls addFundsToWallet, a 'Transfer to Digital Locker' section with an amount input and confirm button that calls transferToLocker, and a scrollable transaction history list showing each transaction's amount, type (received/transferred), sender/destination label, date, and optional note. Show success and error toasts for all actions.",
      "reqIds": [
        "REQ-11"
      ],
      "version": 1
    },
    {
      "id": "feature-update-the-bottom-navigation-bar-to-include-a-wallet-tab-with-an-appropriate-icon-making-it-a-sixth-navigation-item-alongside-dashboard-expenses-goals-invest-and-calculator-ensure-the-wallet-route-is-registered-in-the-tanstack-router-configuration-in-app-tsx",
      "title": "Update the bottom navigation bar to include a 'Wallet' tab with an appropriate icon, making it a sixth navigation item alongside Dashboard, Expenses, Goals, Invest, and Calculator. Ensure the Wallet route is registered in the TanStack Router configuration in App.tsx.",
      "reqIds": [
        "REQ-12"
      ],
      "version": 1
    },
    {
      "id": "feature-update-the-dashboard-screen-to-show-the-user-s-current-wallet-balance-as-a-new-balance-card-alongside-the-existing-spending-saving-and-investment-cards-add-a-go-to-wallet-quick-action-button-in-the-quick-actions-section",
      "title": "Update the Dashboard screen to show the user's current wallet balance as a new balance card alongside the existing Spending, Saving, and Investment cards. Add a 'Go to Wallet' quick-action button in the quick-actions section.",
      "reqIds": [
        "REQ-13"
      ],
      "version": 1
    },
    {
      "id": "feature-add-a-qr-code-generation-feature-to-the-wallet-screen-display-a-unique-scannable-qr-code-representing-the-user-s-wallet-identity-e-g-their-principal-id-or-a-user-friendly-payment-handle-this-qr-code-should-be-shown-in-the-receive-money-section-so-others-can-scan-it-to-send-money-use-the-qrcode-react-or-equivalent-library-to-render-the-qr-code-client-side",
      "title": "Add a QR code generation feature to the Wallet screen: display a unique, scannable QR code representing the user's wallet identity (e.g., their principal ID or a user-friendly payment handle). This QR code should be shown in the 'Receive Money' section so others can scan it to send money. Use the 'qrcode.react' or equivalent library to render the QR code client-side.",
      "reqIds": [
        "REQ-14"
      ],
      "version": 1
    },
    {
      "id": "feature-add-a-qr-code-scanner-to-the-wallet-screen-that-allows-the-user-to-scan-another-person-s-payment-qr-code-to-send-money-to-them-use-the-device-camera-via-the-html5-qrcode-or-react-qr-reader-library-after-a-successful-scan-pre-fill-a-send-money-form-with-the-recipient-identifier-and-allow-the-user-to-enter-an-amount-and-optional-note-on-confirmation-call-a-new-backend-function-sendfundsfromwallet-that-deducts-the-amount-from-the-sender-s-wallet-balance-and-records-an-outgoing-transaction",
      "title": "Add a QR code scanner to the Wallet screen that allows the user to scan another person's payment QR code to send money to them. Use the device camera via the 'html5-qrcode' or 'react-qr-reader' library. After a successful scan, pre-fill a 'Send Money' form with the recipient identifier and allow the user to enter an amount and optional note. On confirmation, call a new backend function sendFundsFromWallet that deducts the amount from the sender's wallet balance and records an outgoing transaction.",
      "reqIds": [
        "REQ-15"
      ],
      "version": 1
    },
    {
      "id": "feature-redesign-the-wallet-screen-ui-to-feel-like-a-modern-peer-to-peer-payment-app-e-g-similar-to-google-pay-or-phonepe-without-requiring-a-bank-account-the-layout-should-include-a-large-wallet-balance-at-the-top-with-a-gradient-card-a-horizontal-row-of-action-buttons-receive-scan-pay-transfer-to-locker-with-icons-a-my-qr-code-expandable-section-in-receive-a-full-screen-scanner-modal-for-scan-pay-and-a-grouped-transaction-history-at-the-bottom-showing-sent-received-and-locker-transfer-transactions-each-with-distinct-color-coded-icons",
      "title": "Redesign the Wallet screen UI to feel like a modern peer-to-peer payment app (e.g., similar to Google Pay or PhonePe) without requiring a bank account. The layout should include: a large wallet balance at the top with a gradient card, a horizontal row of action buttons (Receive / Scan & Pay / Transfer to Locker) with icons, a 'My QR Code' expandable section in Receive, a full-screen scanner modal for Scan & Pay, and a grouped transaction history at the bottom showing sent, received, and locker-transfer transactions each with distinct color-coded icons.",
      "reqIds": [
        "REQ-17"
      ],
      "version": 1
    },
    {
      "id": "feature-remove-the-add-funds-receive-money-form-section-from-the-wallet-screen-frontend-src-components-wallet-tsx-that-allows-users-to-manually-enter-an-amount-and-sender-label-to-simulate-receiving-money-the-collapsible-form-its-trigger-button-and-any-related-state-variables-should-be-deleted-the-wallet-balance-display-transaction-history-transfer-to-locker-section-qr-code-receive-modal-and-scan-pay-functionality-must-remain-untouched",
      "title": "Remove the 'Add Funds' / 'Receive Money' form section from the Wallet screen (frontend/src/components/Wallet.tsx) that allows users to manually enter an amount and sender label to simulate receiving money. The collapsible form, its trigger button, and any related state variables should be deleted. The wallet balance display, transaction history, Transfer to Locker section, QR code (Receive modal), and Scan & Pay functionality must remain untouched.",
      "reqIds": [
        "REQ-18"
      ],
      "version": 1
    }
  ],
  "new_feature_requests": [
    {
      "id": "AR-1",
      "summary": "Income input: support pocket money, stipend, and part-time income sources",
      "reqIds": [],
      "status": "pending"
    },
    {
      "id": "AR-2",
      "summary": "Auto-divide income into Spending, Saving, and Investment buckets",
      "reqIds": [],
      "status": "pending"
    },
    {
      "id": "AR-3",
      "summary": "Show daily spend limit, monthly savings target, and safe investment amount",
      "reqIds": [],
      "status": "pending"
    },
    {
      "id": "AR-4",
      "summary": "Budget calculator feature",
      "reqIds": [],
      "status": "pending"
    },
    {
      "id": "AR-5",
      "summary": "Expense tracking feature",
      "reqIds": [],
      "status": "pending"
    },
    {
      "id": "AR-6",
      "summary": "Savings goal tracker",
      "reqIds": [],
      "status": "pending"
    },
    {
      "id": "AR-7",
      "summary": "Low-risk investment suggestions for students",
      "reqIds": [],
      "status": "pending"
    },
    {
      "id": "AR-8",
      "summary": "Digital Locker: separates and locks savings, unlocks only after goal or time period",
      "reqIds": [],
      "status": "pending"
    },
    {
      "id": "AR-9",
      "summary": "Provide full app design: user flow, UI screens, tech stack, database structure, monetization model, security features, and sample calculations",
      "reqIds": [],
      "status": "pending"
    },
    {
      "id": "AR-10",
      "summary": "Create a backend data model and actor that stores per-user financial profiles including: income sources (pocket money, stipend, part-time), auto-calculated budget allocations (spending, saving, investment percentages), expense log entries (amount, category, date, note), savings goals (name, target amount, current amount, deadline, locked status), and Digital Locker state (locked/unlocked, unlock condition type: goal-met or time-period, unlock date).",
      "reqIds": [
        "REQ-1"
      ],
      "status": "pending"
    },
    {
      "id": "AR-11",
      "summary": "Implement backend query and update functions: addIncome, getProfile, setAllocationSplit, addExpense, getExpenses, addSavingsGoal, updateSavingsGoal, getSavingsGoals, getLockerStatus, requestUnlock (validates goal-met or time-period condition before unlocking), and getInvestmentSuggestions (returns static low-risk suggestion list based on monthly investable amount).",
      "reqIds": [
        "REQ-2"
      ],
      "status": "pending"
    },
    {
      "id": "AR-12",
      "summary": "Add monthly reports screen and spending alerts/notifications",
      "reqIds": [],
      "status": "pending"
    },
    {
      "id": "AR-13",
      "summary": "Add bill reminders feature",
      "reqIds": [],
      "status": "pending"
    },
    {
      "id": "AR-14",
      "summary": "Modify Digital Locker unlock rules",
      "reqIds": [],
      "status": "pending"
    },
    {
      "id": "AR-15",
      "summary": "Add online payment wallet: store, receive, and transfer money online; ability to transfer wallet funds to Digital Locker",
      "reqIds": [],
      "status": "pending"
    },
    {
      "id": "AR-16",
      "summary": "Add a backend data model and actor functions to support an online wallet per user. The wallet must store a running balance, a list of received transactions (amount, sender label, timestamp, note), and a list of outgoing transfers (amount, destination: 'locker' or 'external', timestamp, note). Implement the following functions: getWalletBalance (returns current wallet balance), addFundsToWallet (simulates receiving money — accepts an amount and an optional sender label, increments wallet balance, and records the transaction), transferToLocker (moves a specified amount from the wallet balance to the user's Digital Locker savings, fails if wallet balance is insufficient), and getWalletTransactions (returns the full transaction history sorted by most recent first).",
      "reqIds": [
        "REQ-10"
      ],
      "status": "pending"
    },
    {
      "id": "AR-17",
      "summary": "Add QR code scanner for sending and receiving payments — make it feel like a proper payment app (no bank account needed)",
      "reqIds": [],
      "status": "pending"
    },
    {
      "id": "AR-20",
      "summary": "Implement a new backend function sendFundsFromWallet in the main Motoko actor. The function accepts a recipient identifier (Text), amount (Nat), and optional note (Text). It validates that the caller's wallet balance is sufficient, deducts the amount, records an outgoing transaction with type 'sent', recipient label, timestamp, and note, and returns a Result indicating success or an error message (e.g., #insufficientFunds, #userNotFound).",
      "reqIds": [
        "REQ-16"
      ],
      "status": "pending"
    },
    {
      "id": "AR-22",
      "summary": "Remove or disable the addFundsToWallet public function from the backend actor (backend/main.mo) since it will no longer be called from the frontend. If removing causes downstream type errors in other functions, stub it out with a deprecation comment instead.",
      "reqIds": [
        "REQ-19"
      ],
      "status": "pending"
    }
  ],
  "gameProjectType": "none",
  "projectName": "Student Budget Manager",
  "clarification_mode": "instant",
  "clarification_rounds": 0
}